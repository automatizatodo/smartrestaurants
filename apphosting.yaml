
# apphosting.yaml

# Specifies the version of the App Hosting YAML schema.
# Required.
schemaVersion: v1alpha1

runConfig:
  # Optional. Specifies the port that your application listens on.
  # Defaults to 3000. App Hosting will map this to 80/443.
  # port: 3000 # Your start script "next start" defaults to 3000

  # Environment variables available to your application at runtime.
  environmentVariables:
    GOOGLE_CALENDAR_ID: "primary" # <-- !!! IMPORTANT: Replace with your actual Calendar ID if not 'primary'
    # For production, NEXT_PUBLIC_APP_URL should be your Firebase Hosting URL
    NEXT_PUBLIC_APP_URL: "https://YOUR_APP_HOSTNAME" # <-- !!! IMPORTANT: Replace with your Firebase Hosting URL (e.g., https://your-project-id.web.app)
    
    # Google Analytics Measurement ID
    NEXT_PUBLIC_GA_MEASUREMENT_ID: "G-ZEF2C45GJ7"

    # Google Sheet CSV URLs
    # IMPORTANT: Replace these with your actual published CSV URLs from Google Sheets
    # (File > Share > Publish to web > Select sheet > CSV format)
    GOOGLE_SHEET_MENU_CSV_URL: "YOUR_MAIN_MENU_SHEET_PUBLISHED_CSV_URL_HERE"
    GOOGLE_SHEET_PRICES_CSV_URL: "YOUR_PRICES_MENU_SHEET_PUBLISHED_CSV_URL_HERE"


    # --- Method for GOOGLE_CREDENTIALS_JSON ---
    # Option 1: (RECOMMENDED SECURE METHOD) Use Google Secret Manager.
    # The key 'GOOGLE_CREDENTIALS_JSON' will be populated by the secret's value.
    # Make sure the App Hosting service agent has permissions to access this secret.
    GOOGLE_CREDENTIALS_JSON:
      secret: GOOGLE_SERVICE_ACCOUNT_JSON_CONTENT # <-- !!! IMPORTANT: This MUST match the secret name you created in Secret Manager

    # Option 2: (UNSAFE METHOD - FOR TESTING/NON-CRITICAL ENVIRONMENTS ONLY)
    # Embed the JSON content directly.
    # 1. Open your service account JSON key file.
    # 2. Copy ALL of its content.
    # 3. Paste the entire JSON content below, replacing the placeholder.
    # 4. Ensure the indentation and formatting are correct for YAML multi-line strings (using `|`).
    #
    # WARNING: This is NOT recommended for production. Use Google Secret Manager.
    # If you use this, COMMENT OUT or REMOVE the 'secret:' line above.
    # GOOGLE_CREDENTIALS_JSON: |
    #   {
    #     "type": "service_account",
    #     "project_id": "test-restaurant-459912",
    #     # ... (rest of your JSON content) ...
    #     "universe_domain": "googleapis.com"
    #   }

# Specifies that this is a Next.js backend.
# An empty backend: {} block is often sufficient for Next.js apps.
# App Hosting will use your package.json scripts "build" and "start".
backend: {}
